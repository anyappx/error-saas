{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/sudhir/Documents/vibe/error-saas/lib/mongodb.ts"],"sourcesContent":["import { MongoClient } from 'mongodb'\n\nif (!process.env.MONGODB_URI) {\n  throw new Error('Invalid/Missing environment variable: \"MONGODB_URI\"')\n}\n\nconst uri = process.env.MONGODB_URI\nconst options = {}\n\nlet client: MongoClient\nlet clientPromise: Promise<MongoClient>\n\nif (process.env.NODE_ENV === 'development') {\n  // In development mode, use a global variable so that the value\n  // is preserved across module reloads caused by HMR (Hot Module Replacement).\n  let globalWithMongo = global as typeof globalThis & {\n    _mongoClientPromise?: Promise<MongoClient>\n  }\n\n  if (!globalWithMongo._mongoClientPromise) {\n    client = new MongoClient(uri, options)\n    globalWithMongo._mongoClientPromise = client.connect()\n  }\n  clientPromise = globalWithMongo._mongoClientPromise\n} else {\n  // In production mode, it's best to not use a global variable.\n  client = new MongoClient(uri, options)\n  clientPromise = client.connect()\n}\n\nexport default clientPromise"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;IAC5B,MAAM,IAAI,MAAM;AAClB;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW;AACnC,MAAM,UAAU,CAAC;AAEjB,IAAI;AACJ,IAAI;AAEJ,wCAA4C;IAC1C,+DAA+D;IAC/D,6EAA6E;IAC7E,IAAI;IAIJ,IAAI,CAAC,gBAAgB,mBAAmB,EAAE;QACxC,SAAS,IAAI,sHAAW,CAAC,KAAK;QAC9B,gBAAgB,mBAAmB,GAAG,OAAO,OAAO;IACtD;IACA,gBAAgB,gBAAgB,mBAAmB;AACrD;;uCAMe"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///Users/sudhir/Documents/vibe/error-saas/lib/schema.ts"],"sourcesContent":["import { z } from 'zod'\n\n// Source schema for linking to documentation\nconst SourceSchema = z.object({\n  url: z.string().url(),\n  label: z.string()\n})\n\n// Error document schema as specified in master.md\nexport const ErrorSchema = z.object({\n  tool: z.literal(\"kubernetes\"),\n  canonical_slug: z.string(),\n  title: z.string(),\n  aliases: z.array(z.string()),\n  matchers: z.object({\n    regex: z.array(z.string())\n  }),\n  category: z.enum([\"registry\", \"auth\", \"network\", \"storage\", \"scheduling\", \"runtime\", \"config\", \"unknown\", \"scheduler\", \"cluster\"]),\n  summary: z.string(),\n  root_causes: z.array(z.object({\n    name: z.string(),\n    why: z.string(),\n    confidence: z.number().min(0).max(1),\n    sources: z.array(SourceSchema)\n  })),\n  fix_steps: z.array(z.object({\n    step: z.string(),\n    commands: z.array(z.string()),\n    sources: z.array(SourceSchema)\n  })),\n  clarifying_questions: z.array(z.string()),\n  examples: z.array(z.object({\n    name: z.string(),\n    symptom: z.string(),\n    fix: z.string(),\n    sources: z.array(SourceSchema)\n  })),\n  created_at: z.string(),\n  updated_at: z.string()\n})\n\n// Submission schema for tracking user inputs\nexport const SubmissionSchema = z.object({\n  raw_text: z.string(),\n  normalized_text: z.string(),\n  matched_slug: z.string().nullable(),\n  matched_confidence: z.number(),\n  created_at: z.string()\n})\n\nexport type KubernetesError = z.infer<typeof ErrorSchema>\nexport type Submission = z.infer<typeof SubmissionSchema>\nexport type Source = z.infer<typeof SourceSchema>"],"names":[],"mappings":";;;;;;AAAA;;AAEA,6CAA6C;AAC7C,MAAM,eAAe,8PAAC,CAAC,MAAM,CAAC;IAC5B,KAAK,8PAAC,CAAC,MAAM,GAAG,GAAG;IACnB,OAAO,8PAAC,CAAC,MAAM;AACjB;AAGO,MAAM,cAAc,8PAAC,CAAC,MAAM,CAAC;IAClC,MAAM,8PAAC,CAAC,OAAO,CAAC;IAChB,gBAAgB,8PAAC,CAAC,MAAM;IACxB,OAAO,8PAAC,CAAC,MAAM;IACf,SAAS,8PAAC,CAAC,KAAK,CAAC,8PAAC,CAAC,MAAM;IACzB,UAAU,8PAAC,CAAC,MAAM,CAAC;QACjB,OAAO,8PAAC,CAAC,KAAK,CAAC,8PAAC,CAAC,MAAM;IACzB;IACA,UAAU,8PAAC,CAAC,IAAI,CAAC;QAAC;QAAY;QAAQ;QAAW;QAAW;QAAc;QAAW;QAAU;QAAW;QAAa;KAAU;IACjI,SAAS,8PAAC,CAAC,MAAM;IACjB,aAAa,8PAAC,CAAC,KAAK,CAAC,8PAAC,CAAC,MAAM,CAAC;QAC5B,MAAM,8PAAC,CAAC,MAAM;QACd,KAAK,8PAAC,CAAC,MAAM;QACb,YAAY,8PAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;QAClC,SAAS,8PAAC,CAAC,KAAK,CAAC;IACnB;IACA,WAAW,8PAAC,CAAC,KAAK,CAAC,8PAAC,CAAC,MAAM,CAAC;QAC1B,MAAM,8PAAC,CAAC,MAAM;QACd,UAAU,8PAAC,CAAC,KAAK,CAAC,8PAAC,CAAC,MAAM;QAC1B,SAAS,8PAAC,CAAC,KAAK,CAAC;IACnB;IACA,sBAAsB,8PAAC,CAAC,KAAK,CAAC,8PAAC,CAAC,MAAM;IACtC,UAAU,8PAAC,CAAC,KAAK,CAAC,8PAAC,CAAC,MAAM,CAAC;QACzB,MAAM,8PAAC,CAAC,MAAM;QACd,SAAS,8PAAC,CAAC,MAAM;QACjB,KAAK,8PAAC,CAAC,MAAM;QACb,SAAS,8PAAC,CAAC,KAAK,CAAC;IACnB;IACA,YAAY,8PAAC,CAAC,MAAM;IACpB,YAAY,8PAAC,CAAC,MAAM;AACtB;AAGO,MAAM,mBAAmB,8PAAC,CAAC,MAAM,CAAC;IACvC,UAAU,8PAAC,CAAC,MAAM;IAClB,iBAAiB,8PAAC,CAAC,MAAM;IACzB,cAAc,8PAAC,CAAC,MAAM,GAAG,QAAQ;IACjC,oBAAoB,8PAAC,CAAC,MAAM;IAC5B,YAAY,8PAAC,CAAC,MAAM;AACtB"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///Users/sudhir/Documents/vibe/error-saas/app/api/kubernetes/error/%5Bslug%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\nimport clientPromise from '@/lib/mongodb'\nimport { ErrorSchema } from '@/lib/schema'\n\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ slug: string }> }\n) {\n  try {\n    const { slug } = await params\n    \n    const client = await clientPromise\n    const db = client.db()\n    \n    // Get the specific error by slug\n    const error = await db.collection('errors').findOne({\n      tool: 'kubernetes',\n      canonical_slug: slug\n    })\n    \n    if (!error) {\n      return NextResponse.json(\n        { error: 'Error not found' },\n        { status: 404 }\n      )\n    }\n    \n    // Validate against schema\n    const validError = ErrorSchema.parse(error)\n    \n    return NextResponse.json(validError)\n    \n  } catch (error) {\n    console.error('API Error:', error)\n    return NextResponse.json(\n      { error: 'Failed to fetch error' },\n      { status: 500 }\n    )\n  }\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IACpB,OAAoB,EACpB,EAAE,MAAM,EAAyC;IAEjD,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;QAEvB,MAAM,SAAS,MAAM,oJAAa;QAClC,MAAM,KAAK,OAAO,EAAE;QAEpB,iCAAiC;QACjC,MAAM,QAAQ,MAAM,GAAG,UAAU,CAAC,UAAU,OAAO,CAAC;YAClD,MAAM;YACN,gBAAgB;QAClB;QAEA,IAAI,CAAC,OAAO;YACV,OAAO,ySAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAkB,GAC3B;gBAAE,QAAQ;YAAI;QAElB;QAEA,0BAA0B;QAC1B,MAAM,aAAa,uJAAW,CAAC,KAAK,CAAC;QAErC,OAAO,ySAAY,CAAC,IAAI,CAAC;IAE3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,cAAc;QAC5B,OAAO,ySAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}