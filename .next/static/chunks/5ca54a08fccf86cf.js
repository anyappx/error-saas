(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98227,e=>{"use strict";var s=e.i(34840),n=e.i(20416);function o(){let[e,o]=(0,n.useState)(""),[r,i]=(0,n.useState)(null),[t,l]=(0,n.useState)(!1),a=async e=>{if(e.trim()){l(!0);try{let s=await fetch("/api/explain",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e})}),n=await s.json();n.error?i({tool:"kubernetes",match:{slug:null,confidence:0},title:"API Connection Error",summary:"Unable to process request. This demo requires a MongoDB connection.",root_causes:[],fix_steps:[],sources:[],clarifying_question:"Please set up MongoDB connection to use the full functionality.",suggestions:[]}):i(n)}catch(e){console.error("Error:",e),i({tool:"kubernetes",match:{slug:null,confidence:0},title:"Connection Error",summary:"Failed to connect to the API.",root_causes:[],fix_steps:[],sources:[],clarifying_question:null,suggestions:[]})}finally{l(!1)}}};return(0,s.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px"},children:[(0,s.jsx)("h1",{children:"Kubernetes Error Fix Atlas"}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("textarea",{value:e,onChange:e=>o(e.target.value),placeholder:"Paste your Kubernetes error here...",rows:8,style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"4px",fontFamily:"monospace"}}),(0,s.jsx)("button",{onClick:()=>a(e),disabled:t,style:{marginTop:"10px",padding:"10px 20px",backgroundColor:"#007cba",color:"white",border:"none",borderRadius:"4px",cursor:t?"not-allowed":"pointer"},children:t?"Analyzing...":"Explain & Fix"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Quick Examples:"}),(0,s.jsx)("div",{style:{marginBottom:"20px"},children:["ImagePullBackOff","CrashLoopBackOff","CreateContainerConfigError","0/3 nodes are available: pod has unbound immediate PersistentVolumeClaims","FailedScheduling"].map((e,n)=>(0,s.jsx)("button",{onClick:()=>{o(e),a(e)},style:{margin:"5px",padding:"5px 10px",backgroundColor:"#f0f0f0",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer"},children:e},n))})]}),r&&(0,s.jsxs)("div",{style:{marginTop:"30px"},children:[(0,s.jsx)("h2",{children:"Result"}),r.title&&(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("h3",{children:"Meaning"}),(0,s.jsx)("h4",{children:r.title}),(0,s.jsx)("p",{children:r.summary}),(0,s.jsxs)("p",{children:["Confidence: ",(100*r.match.confidence).toFixed(0),"%"]})]}),r.root_causes&&r.root_causes.length>0&&(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("h3",{children:"Common Causes"}),r.root_causes.map((e,n)=>(0,s.jsxs)("div",{style:{marginBottom:"10px",padding:"10px",backgroundColor:"#f9f9f9"},children:[(0,s.jsx)("strong",{children:e.name}),(0,s.jsx)("p",{children:e.why}),(0,s.jsxs)("small",{children:["Confidence: ",(100*e.confidence).toFixed(0),"%"]})]},n))]}),r.fix_steps&&r.fix_steps.length>0&&(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("h3",{children:"Fix Steps"}),r.fix_steps.map((e,n)=>(0,s.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,s.jsxs)("h4",{children:[n+1,". ",e.step]}),e.commands&&e.commands.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Commands:"}),e.commands.map((e,n)=>(0,s.jsx)("pre",{style:{backgroundColor:"#f0f0f0",padding:"5px",marginTop:"5px",fontFamily:"monospace"},children:e},n))]})]},n))]}),r.sources&&r.sources.length>0&&(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("h3",{children:"Sources"}),(0,s.jsx)("ul",{children:r.sources.map((e,n)=>(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.label})},n))})]}),r.clarifying_question&&(0,s.jsxs)("div",{style:{marginBottom:"20px",padding:"10px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7"},children:[(0,s.jsx)("h3",{children:"Need More Info"}),(0,s.jsx)("p",{children:r.clarifying_question})]}),r.suggestions&&r.suggestions.length>0&&(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("h3",{children:"Top Suggestions"}),r.suggestions.map((e,n)=>(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("strong",{children:e.title})," (",e.category,")"]},n))]})]})]})}e.s(["default",()=>o])}]);